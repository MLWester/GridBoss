# === General Application Settings ===
# Runtime environment (development|production|test)
APP_ENV=development

# Public URLs for the web client and API
APP_URL=http://localhost:5173
API_URL=http://localhost:8000

# Admin console toggle (requires founder account)
ADMIN_MODE=false

# Allowed origins (comma separated) for CORS
CORS_ORIGINS=http://localhost:5173

# === API & Auth ===
# API port exposed by FastAPI
API_PORT=8000

# JWT configuration
JWT_SECRET=local-dev-secret
JWT_ACCESS_TTL_MIN=15
JWT_REFRESH_TTL_DAYS=14

# === Database & Cache ===
# SQLAlchemy style connection string for Postgres
DATABASE_URL=postgresql+psycopg://postgres:postgres@db:5432/gridboss

# Redis connection string used for cache, queues, and idempotency storage
REDIS_URL=redis://redis:6379/0

# === Worker Settings ===
# Number of worker threads Dramatiq should use
WORKER_THREADS=8
# Friendly name for logging/metrics
WORKER_NAME=gridboss-worker
# Dramatiq retry policy (milliseconds)
WORKER_RETRY_MIN_BACKOFF_MS=1000
WORKER_RETRY_MAX_BACKOFF_MS=300000
WORKER_RETRY_MAX_RETRIES=5

# Postgres container credentials (compose overrides)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=gridboss

# === Discord OAuth & Bot ===
DISCORD_CLIENT_ID=111111111111111111
DISCORD_CLIENT_SECRET=dev-discord-secret
DISCORD_REDIRECT_URI=http://localhost:8000/auth/discord/callback
DISCORD_BOT_TOKEN=replace_me
# Path in the frontend used for Discord deep links
DISCORD_LINK_PATH=/settings/discord

# === Stripe Billing ===
STRIPE_SECRET_KEY=sk_test_replace_me
STRIPE_PRICE_PRO=price_replace_me
STRIPE_PRICE_ELITE=price_replace_me
STRIPE_WEBHOOK_SECRET=whsec_replace_me

# Optional: Stripe CLI webhook forwarding target (used by stripe-cli service)
STRIPE_WEBHOOK_FORWARD=http://api:8000/webhooks/stripe

# === Analytics ===
ANALYTICS_ENABLED=false
# Unique salt to hash user identifiers when analytics is enabled
ANALYTICS_SALT=

# === Email ===
EMAIL_ENABLED=false
# Outbound SMTP connection string (e.g. smtp://user:pass@mail.local:587)
SMTP_URL=
# Alternative: SendGrid API key for email delivery
SENDGRID_API_KEY=
# Default from address for transactional email
EMAIL_FROM_ADDRESS=notifications@example.com

# === Object Storage / S3 ===
S3_ENABLED=false
# Endpoints such as https://s3.amazonaws.com or MinIO deployment
S3_ENDPOINT=
S3_REGION=us-east-1
S3_BUCKET=gridboss-dev
S3_ACCESS_KEY=
S3_SECRET_KEY=

# === Observability ===
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.0
OTEL_ENABLED=false
OTEL_EXPORTER_ENDPOINT=
OTEL_SERVICE_NAME=gridboss-api
HEALTH_CACHE_SECONDS=0
